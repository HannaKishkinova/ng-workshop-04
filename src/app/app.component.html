<p *ngIf="isLoading$ | async; else errorTpl">Loading all the people...</p>

<ng-template #errorTpl>
  <p *ngIf="error$ | async as error; else peopleTpl">
    Failed to load all people: {{ error }}
  </p>
</ng-template>

<ng-template #peopleTpl>
  <p>
    People:
    <button (click)="refreshPeople()">Refresh</button>
  </p>
  <ul>
    <li *ngFor="let dude of allPeople$ | async">
      <app-birthday [name]="dude"></app-birthday>
    </li>
  </ul>
</ng-template>
